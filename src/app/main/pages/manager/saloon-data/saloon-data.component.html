<div class="container">
    <div class="row mt-5">
        <div class="col-md-12">
            <h3 class="color-primary" *ngIf="typeOperation === 'nuevo'">Alta de sala</h3>
            <h3 class="color-primary" *ngIf="typeOperation !== 'nuevo'">Editar sala</h3>
            <hr class="color-primary">
          </div>
    </div>
    <div class="bs-stepper mt-2">
        <div class="bs-stepper-header" role="tablist">
            <!-- your steps here -->
            <div class="step" data-target="#logins-part">
                <button type="button" class="step-trigger" role="tab" aria-controls="logins-part"
                    id="logins-part-trigger">
                    <span class="bs-stepper-circle">1</span>
                    <span class="bs-stepper-label">Datos principales</span>
                </button>
            </div>
            <div class="line"></div>
            <div class="step" data-target="#information-part">
                <button type="button" class="step-trigger" role="tab" aria-controls="information-part"
                    id="information-part-trigger">
                    <span class="bs-stepper-circle">2</span>
                    <span class="bs-stepper-label">Tamaño de sala</span>
                </button>
            </div>
            <div class="line"></div>
            <div class="step" data-target="#layout">
                <button type="button" class="step-trigger" role="tab" aria-controls="layout" id="layout-trigger">
                    <span class="bs-stepper-circle">3</span>
                    <span class="bs-stepper-label">Definir layout</span>
                </button>
            </div>
        </div>
        <div class="bs-stepper-content">
            <!-- your steps content here -->
            <div id="logins-part" class="content" role="tabpanel" aria-labelledby="logins-part-trigger">
                <form [formGroup]="formGroupData">
                    <div class="row">
                        <div class="col-md-4 offset-md-4 mt-4">
                            <label for="floor" class="form-label">Piso</label>
                            <input type="number" class="form-control" id="floor" autocomplete="off" formControlName="floor">
                            <small class="color-primary" *ngIf="formGroupData.get('floor').errors?.required && formGroupData.get('floor').touched">
                                El piso es requerido
                            </small>
                            <small class="color-primary" *ngIf="!formGroupData.get('floor').errors?.required && formGroupData.get('floor').errors?.min">
                                El mínimo es de 0
                            </small>
                            <small class="color-primary" *ngIf="!formGroupData.get('floor').errors?.required && formGroupData.get('floor').errors?.max">
                                El máximo es de 30
                            </small>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4 offset-md-4 mt-4">
                            <label for="number" class="form-label ">Numero</label>
                            <input type="number" class="form-control" id="number" autocomplete="off" formControlName="number">
                            <small class="color-primary" *ngIf="formGroupData.get('number').errors?.required && formGroupData.get('number').touched">
                                El número de sala es requerido
                            </small>
                            <small class="color-primary" *ngIf="!formGroupData.get('number').errors?.required && formGroupData.get('number').errors?.min">
                                El mínimo es de 1
                            </small>
                            <small class="color-primary" *ngIf="!formGroupData.get('number').errors?.required && formGroupData.get('number').errors?.max">
                                El máximo es de 30
                            </small>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4 offset-md-4 mt-4">
                            <label for="type" class="form-label ">Tipo</label>
                            <select class="form-control" id="type" autocomplete="off" formControlName="type">
                                <option value="">Seleccione una opción</option>
                                <option value="2D">2D</option>
                                <option value="3D">3D</option>
                            </select>
                            <small class="color-primary" *ngIf="formGroupData.get('type').errors?.required && formGroupData.get('type').touched">
                                El tipo de sala es requerido
                            </small>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 text-center mt-5">
                            <button type="button" class="btn btn-outline-primary" (click)="previousStepper()">ANTERIOR</button>
                            <button type="submit" class="btn btn-primary ms-3" [disabled]="formGroupData.invalid" (click)="nextStepper()">SIGUIENTE</button>
                        </div>
                    </div>
                </form>
            </div>
            <div id="information-part" class="content" role="tabpanel" aria-labelledby="information-part-trigger">
                <form [formGroup]="formGroupSize">
                    <div class="row">
                        <div class="col-md-4 offset-md-4 mt-4">
                            <label for="height" class="form-label">Filas</label>
                            <input type="text" class="form-control" id="height" autocomplete="off"
                                formControlName="height">
                            <small class="color-primary" *ngIf="formGroupSize.get('height').errors?.required && formGroupSize.get('height').touched">
                                La cantidad de filas es requerida
                            </small>
                            <small class="color-primary" *ngIf="!formGroupSize.get('height').errors?.required && formGroupSize.get('height').errors?.min">
                                El mínimo de filas es de 1
                            </small>
                            <small class="color-primary" *ngIf="!formGroupSize.get('height').errors?.required && formGroupSize.get('height').errors?.max">
                                El máximo de filas es de 33
                            </small>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4 offset-md-4 mt-4">
                            <label for="width" class="form-label ">Columnas</label>
                            <input type="text" class="form-control" id="width" autocomplete="off"
                                formControlName="width">
                            <small class="color-primary" *ngIf="formGroupSize.get('width').errors?.required && formGroupSize.get('width').touched">
                                La cantidad de columnas es requerida
                            </small>
                            <small class="color-primary" *ngIf="!formGroupSize.get('width').errors?.required && formGroupSize.get('width').errors?.min">
                                El mínimo de columnas es de 1
                            </small>
                            <small class="color-primary" *ngIf="!formGroupSize.get('width').errors?.required && formGroupSize.get('width').errors?.max">
                                El máximo de columnas es de 33
                            </small>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 text-center mt-5">
                            <button type="button" class="btn btn-outline-primary" (click)="previousStepper()">ANTERIOR</button>
                            <button type="submit" class="btn btn-primary ms-3" [disabled]="formGroupSize.invalid" (click)="nextStepper()">SIGUIENTE</button>
                        </div>
                    </div>
                </form>
            </div>
            <div id="layout" class="content" role="tabpanel" aria-labelledby="layout-trigger">
                <div class="row">
                    <div class="col-lg-12 seat-container">
                        <div *ngFor="let seatrow of saloonService.seatmap ">
                            <div class="col-12 pricing-label"
                                *ngIf="saloonService.seatChartConfig?.showRowWisePricing && seatrow.seatPricingInformation != ''">
                                {{seatrow.seatPricingInformation}}</div>
                            <div class="seatrow container">
                                <div *ngIf="saloonService.seatChartConfig?.showRowsLabel">
                                    <div class="row-label"> {{seatrow.seatRowLabel}} </div>
                                </div>
                                <div *ngFor="let seatobj of seatrow.seats">
                                    <div class="seat-item seat-space" style="color:white ; background-color:white"
                                        *ngIf="seatobj.seatLabel == ''"> &nbsp; </div>
                                    <div tooltip="Seat : {{seatobj.seatLabel}} | Price : {{seatobj.price}}Rs"
                                        placement="top"
                                        [ngClass]="{ 'seat-item' : true , 'seat-available' : seatobj.status == 'available' ,'seat-booked' : seatobj.status == 'booked' ,'seat-unavailable' : seatobj.status == 'unavailable' }"
                                        (click)="saloonService.selectSeat(seatobj)"
                                        *ngIf="(seatobj.status == 'available' || seatobj.status == 'unavailable' )&& seatobj.seatLabel != ''">
                                        {{seatobj.seatNo}}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12 text-center mt-5">
                        <button type="button" class="btn btn-outline-primary" (click)="previousStepper()">ANTERIOR</button>
                        <button type="submit" class="btn btn-primary ms-3" (click)="finalize()">FINALIZAR</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>